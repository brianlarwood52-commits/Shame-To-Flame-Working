{"version":3,"sources":["../../../../../../Downloads/new-mainxx/src/old_pages_backup/BibleStudy.tsx","../../../../../../Downloads/new-mainxx/src/lib/indexeddb.ts","../../../../../../Downloads/new-mainxx/src/components/PlanReader.tsx","../../../../../../Downloads/new-mainxx/src/components/ReadingPlanCard.tsx","../../../../../../Downloads/new-mainxx/src/lib/progress-tracker.ts","../../../../../../Downloads/new-mainxx/src/lib/kjv-offline.ts","../../../../../../Downloads/new-mainxx/node_modules/lucide-react/src/icons/bookmark.ts","../../../../../../Downloads/new-mainxx/node_modules/lucide-react/src/icons/chevron-right.ts","../../../../../../Downloads/new-mainxx/node_modules/lucide-react/src/icons/chevron-left.ts","../../../../../../Downloads/new-mainxx/src/data/bibleData.ts"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect, useRef } from 'react'\nimport { BookOpen, Search, ChevronLeft, ChevronRight } from 'lucide-react'\nimport PlanReader from '../components/PlanReader'\nimport ReadingPlanCard from '../components/ReadingPlanCard'\nimport { readingPlans, getAllCategories, getFeaturedPlans, ReadingPlan, getPlanById } from '../data/readingPlans'\nimport { progressTracker } from '../lib/progress-tracker'\nimport { dbService } from '../lib/indexeddb'\n\ntype TabType = 'find-plans' | 'my-plans' | 'saved' | 'completed'\n\nconst categoryLabels: Record<ReadingPlan['category'], string> = {\n  healing: 'Healing',\n  prophecy: 'Prophecy',\n  sabbath: 'Sabbath',\n  health: 'Health',\n  'new-believer': 'New to Faith',\n  advent: 'Advent',\n  character: 'Character Study',\n  topical: 'Topical',\n}\n\n// Category colors for filter buttons (YouVersion style - less bright)\nconst categoryButtonColors: Record<ReadingPlan['category'], string> = {\n  healing: 'bg-gradient-to-r from-pink-400 to-rose-400',\n  prophecy: 'bg-gradient-to-r from-purple-400 to-indigo-400',\n  sabbath: 'bg-gradient-to-r from-sky-400 to-blue-400',\n  health: 'bg-gradient-to-r from-green-400 to-emerald-400',\n  'new-believer': 'bg-gradient-to-r from-yellow-400 to-amber-400',\n  advent: 'bg-gradient-to-r from-orange-400 to-red-400',\n  character: 'bg-gradient-to-r from-teal-400 to-cyan-400',\n  topical: 'bg-gradient-to-r from-slate-400 to-gray-500',\n}\n\nconst BibleStudy = () => {\n  const [activeTab, setActiveTab] = useState<TabType>('find-plans')\n  const [searchTerm, setSearchTerm] = useState('')\n  const [selectedCategory, setSelectedCategory] = useState<ReadingPlan['category'] | 'all'>('all')\n  const [currentPlanId, setCurrentPlanId] = useState<string | null>(null)\n  const [showPlanReader, setShowPlanReader] = useState(false)\n  const [planProgress, setPlanProgress] = useState<Record<string, number>>({})\n  const [planCurrentDays, setPlanCurrentDays] = useState<Record<string, number>>({})\n  const [savedPlans, setSavedPlans] = useState<Set<string>>(new Set())\n  const [dbReady, setDbReady] = useState(true)\n  \n  const categories = getAllCategories()\n  const featuredPlans = getFeaturedPlans()\n  \n  // FIXED: Added \"| null\" to allow standard React refs\n  const scrollRefs = useRef<Record<string, React.RefObject<HTMLDivElement | null>>>({})\n  \n  // FIXED: Updated return type to match the new RefObject definition\n  const getCategoryScrollRef = (category: string): React.RefObject<HTMLDivElement | null> => {\n    if (!scrollRefs.current[category]) {\n      scrollRefs.current[category] = React.createRef<HTMLDivElement>()\n    }\n    return scrollRefs.current[category]\n  }\n  \n  const featuredScrollRef = useRef<HTMLDivElement>(null)\n  const myPlansScrollRef = useRef<HTMLDivElement>(null)\n  const savedScrollRef = useRef<HTMLDivElement>(null)\n  const completedScrollRef = useRef<HTMLDivElement>(null)\n\n  const scrollRow = (ref: React.RefObject<HTMLDivElement | null>, direction: 'left' | 'right') => {\n    if (ref.current) {\n      const scrollAmount = 400\n      ref.current.scrollBy({\n        left: direction === 'left' ? -scrollAmount : scrollAmount,\n        behavior: 'smooth',\n      })\n    }\n  }\n\n  // Initialize IndexedDB (client-side only)\n  useEffect(() => {\n    if (typeof window === 'undefined') {\n      return\n    }\n\n    setDbReady(true)\n\n    dbService.init()\n      .then(() => {\n        setDbReady(true)\n        loadCurrentPlan()\n        loadAllProgress()\n        loadSavedPlans()\n      })\n      .catch((error) => {\n        console.error('Error initializing IndexedDB:', error)\n        setDbReady(false)\n        if (error?.name === 'VersionError') {\n          console.warn('IndexedDB version mismatch. Page will work but some features may be limited.')\n        }\n      })\n  }, [])\n\n  const loadCurrentPlan = async () => {\n    if (typeof window === 'undefined') return\n    \n    try {\n      const current = await dbService.getCurrentPlan()\n      if (current && current.planId) {\n        setCurrentPlanId(current.planId)\n      }\n    } catch (error) {\n      console.error('Error loading current plan:', error)\n    }\n  }\n\n  const loadAllProgress = async () => {\n    if (typeof window === 'undefined') return\n    \n    try {\n      const progressMap: Record<string, number> = {}\n      const currentDaysMap: Record<string, number> = {}\n      \n      for (const plan of readingPlans) {\n        try {\n          const { progress } = await progressTracker.getCurrentPlan()\n          if (progress && progress.planId === plan.id) {\n            const percentage = await progressTracker.getProgressPercentage(plan.id)\n            if (percentage > 0) {\n              progressMap[plan.id] = percentage\n              currentDaysMap[plan.id] = progress.currentDay\n            }\n          } else {\n            const progress = await dbService.getProgress(plan.id)\n            if (progress) {\n              const percentage = await progressTracker.getProgressPercentage(plan.id)\n              if (percentage > 0) {\n                progressMap[plan.id] = percentage\n                currentDaysMap[plan.id] = progress.currentDay\n              }\n            }\n          }\n        } catch (err) {\n          // Skip this plan if there's an error\n        }\n      }\n      setPlanProgress(progressMap)\n      setPlanCurrentDays(currentDaysMap)\n    } catch (error) {\n      console.debug('Progress loading deferred:', error)\n    }\n  }\n\n  const loadSavedPlans = async () => {\n    if (typeof window === 'undefined') return\n    \n    try {\n      const saved = await dbService.getSavedPlans()\n      setSavedPlans(new Set(saved))\n    } catch (error) {\n      console.error('Error loading saved plans:', error)\n    }\n  }\n\n  const handleStartPlan = async (planId: string) => {\n    if (!dbReady) {\n      alert('Database not ready. Please wait a moment and try again.')\n      return\n    }\n\n    const plan = getPlanById(planId)\n    if (!plan) {\n      alert('Plan not found')\n      return\n    }\n\n    try {\n      await progressTracker.startPlan(plan)\n      setCurrentPlanId(planId)\n      setShowPlanReader(true)\n      await loadAllProgress()\n    } catch (error) {\n      console.error('Error starting plan:', error)\n      alert('Error starting plan. Please try again.')\n    }\n  }\n\n  const handleContinuePlan = async (planId: string) => {\n    setCurrentPlanId(planId)\n    setShowPlanReader(true)\n  }\n\n  const handleSavePlan = async (planId: string) => {\n    try {\n      await dbService.savePlanToSaved(planId)\n      setSavedPlans(new Set([...savedPlans, planId]))\n    } catch (error) {\n      console.error('Error saving plan:', error)\n    }\n  }\n\n  const handleUnsavePlan = async (planId: string) => {\n    try {\n      await dbService.removeSavedPlan(planId)\n      const newSaved = new Set(savedPlans)\n      newSaved.delete(planId)\n      setSavedPlans(newSaved)\n    } catch (error) {\n      console.error('Error unsaving plan:', error)\n    }\n  }\n\n  const handleClosePlanReader = () => {\n    setShowPlanReader(false)\n    loadAllProgress()\n  }\n\n  // Filter plans based on active tab and search\n  const getFilteredPlans = (): ReadingPlan[] => {\n    let filtered = readingPlans\n\n    // Apply search filter\n    if (searchTerm) {\n      filtered = filtered.filter(plan =>\n        plan.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        plan.description.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    }\n\n    // Apply category filter (only for find-plans tab)\n    if (activeTab === 'find-plans' && selectedCategory !== 'all') {\n      filtered = filtered.filter(plan => plan.category === selectedCategory)\n    }\n\n    // Apply tab filter\n    switch (activeTab) {\n      case 'my-plans':\n        return filtered.filter(plan => planProgress[plan.id] !== undefined && planProgress[plan.id] > 0)\n      case 'saved':\n        return filtered.filter(plan => savedPlans.has(plan.id))\n      case 'completed':\n        return filtered.filter(plan => planProgress[plan.id] === 100)\n      case 'find-plans':\n      default:\n        return filtered\n    }\n  }\n\n  // Get plans by category (for themed rows)\n  const getPlansByCategory = (category: ReadingPlan['category']): ReadingPlan[] => {\n    if (selectedCategory !== 'all' && selectedCategory !== category) {\n      return []\n    }\n    const filtered = readingPlans.filter(plan => {\n      const matchesSearch = !searchTerm || \n        plan.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        plan.description.toLowerCase().includes(searchTerm.toLowerCase())\n      return plan.category === category && matchesSearch\n    })\n    return filtered\n  }\n\n  const filteredPlans = getFilteredPlans()\n\n  // Render a horizontal scrolling row (YouVersion style)\n  const renderCategoryRow = (category: ReadingPlan['category'], title: string) => {\n    const categoryPlans = getPlansByCategory(category)\n    if (categoryPlans.length === 0) return null\n\n    const scrollRef = getCategoryScrollRef(category)\n    \n    // Healing row stays exactly as it was - no changes\n    const isHealing = category === 'healing'\n    // Healing: w-64 on desktop, smaller on mobile\n    // Others: w-48 on desktop, smaller on mobile\n    const cardWidth = isHealing ? 'w-full sm:w-64' : 'w-full sm:w-48'\n    const cardSize = isHealing ? 'default' : 'small'\n\n    // Center titles and cards for Healing and Prophecy\n    const shouldCenter = category === 'healing' || category === 'prophecy'\n    \n    return (\n      <div className=\"mb-12\" key={category}>\n        <div className={`flex items-center ${shouldCenter ? 'justify-center' : 'justify-between'} mb-4`}>\n          <h3 className=\"font-serif text-xl sm:text-2xl font-bold text-gray-800 dark:text-white\">\n            {title}\n          </h3>\n          {!shouldCenter && (\n            <div className=\"hidden md:flex items-center gap-2\">\n              <button\n                onClick={() => scrollRow(scrollRef, 'left')}\n                className=\"p-2 rounded-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm\"\n                aria-label=\"Scroll left\"\n              >\n                <ChevronLeft className=\"h-5 w-5 text-gray-600 dark:text-gray-400\" />\n              </button>\n              <button\n                onClick={() => scrollRow(scrollRef, 'right')}\n                className=\"p-2 rounded-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm\"\n                aria-label=\"Scroll right\"\n              >\n                <ChevronRight className=\"h-5 w-5 text-gray-600 dark:text-gray-400\" />\n              </button>\n            </div>\n          )}\n        </div>\n        <div\n          ref={scrollRef as React.RefObject<HTMLDivElement>}\n          className={`grid grid-cols-1 md:flex md:gap-3 md:overflow-x-auto md:scrollbar-hide gap-4 md:gap-3 pb-4 ${shouldCenter ? 'md:justify-center' : ''}`}\n          style={{ scrollbarWidth: 'none', msOverflowStyle: 'none' }}\n        >\n          {categoryPlans.map((plan) => (\n            <div key={plan.id} className={`w-full max-w-sm mx-auto md:max-w-none md:flex-shrink-0 ${isHealing ? 'md:w-64' : 'md:w-48'}`}>\n              <ReadingPlanCard\n                plan={plan}\n                progress={planProgress[plan.id]}\n                isSaved={savedPlans.has(plan.id)}\n                onStart={() => handleStartPlan(plan.id)}\n                onContinue={() => handleContinuePlan(plan.id)}\n                onSave={() => handleSavePlan(plan.id)}\n                onUnsave={() => handleUnsavePlan(plan.id)}\n                size={cardSize}\n                square={!isHealing}\n              />\n            </div>\n          ))}\n        </div>\n      </div>\n    )\n  }\n\n  // Render a combined row for multiple categories\n  const renderCombinedCategoryRow = (categoryList: ReadingPlan['category'][], title: string) => {\n    const allPlans: Array<{ plan: ReadingPlan; category: ReadingPlan['category'] }> = []\n    \n    categoryList.forEach(category => {\n      const categoryPlans = getPlansByCategory(category)\n      categoryPlans.forEach(plan => {\n        allPlans.push({ plan, category })\n      })\n    })\n\n    if (allPlans.length === 0) return null\n\n    const scrollRef = getCategoryScrollRef(`combined-${categoryList.join('-')}`)\n\n    return (\n      <div className=\"mb-12\" key={`combined-${categoryList.join('-')}`}>\n        <div className=\"flex items-center justify-center mb-4\">\n          <h3 className=\"font-serif text-xl sm:text-2xl font-bold text-gray-800 dark:text-white\">\n            {title}\n          </h3>\n        </div>\n        <div\n          ref={scrollRef as React.RefObject<HTMLDivElement>}\n          className=\"grid grid-cols-1 md:flex md:gap-3 md:overflow-x-auto md:scrollbar-hide gap-4 md:gap-3 pb-4 md:justify-center\"\n          style={{ scrollbarWidth: 'none', msOverflowStyle: 'none' }}\n        >\n          {allPlans.map(({ plan, category }) => (\n            <div key={plan.id} className=\"w-full max-w-sm mx-auto md:max-w-none md:flex-shrink-0 md:w-48\">\n              <ReadingPlanCard\n                plan={plan}\n                progress={planProgress[plan.id]}\n                isSaved={savedPlans.has(plan.id)}\n                onStart={() => handleStartPlan(plan.id)}\n                onContinue={() => handleContinuePlan(plan.id)}\n                onSave={() => handleSavePlan(plan.id)}\n                onUnsave={() => handleUnsavePlan(plan.id)}\n                size=\"small\"\n                square={true}\n              />\n            </div>\n          ))}\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"animate-fade-in min-h-screen bg-white dark:bg-gray-900\">\n      {/* Hero Section with Search */}\n      <section className=\"py-16 bg-gradient-to-br from-sky-50/90 to-flame-50/90 dark:from-sky-900/30 dark:to-flame-900/30 backdrop-blur-md border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-8\">\n            <BookOpen className=\"h-16 w-16 text-flame-500 mx-auto mb-6\" />\n            <h1 className=\"font-serif text-4xl md:text-5xl font-bold text-gray-800 dark:text-white mb-4\">\n              Bible Reading Plans & Daily Devotionals\n            </h1>\n            <p className=\"text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed mb-8\">\n              Dive deep into God's Word with structured reading plans designed for healing, growth, and understanding. \n              All plans work offline.\n            </p>\n            \n            {/* Search Bar */}\n            <div className=\"max-w-2xl mx-auto\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search reading plans...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-12 pr-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-flame-500 focus:border-transparent\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Tab Navigation - Centered, Mobile Responsive */}\n      <section className=\"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 sticky top-16 z-30\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex gap-1 justify-center overflow-x-auto scrollbar-hide -mx-4 sm:mx-0 px-4 sm:px-0\" style={{ scrollbarWidth: 'none', msOverflowStyle: 'none' }}>\n            {(['find-plans', 'my-plans', 'saved', 'completed'] as TabType[]).map((tab) => (\n              <button\n                key={tab}\n                onClick={() => setActiveTab(tab)}\n                className={`flex-shrink-0 px-4 sm:px-6 py-3 font-medium text-xs sm:text-sm transition-all duration-200 whitespace-nowrap ${\n                  activeTab === tab\n                    ? 'bg-flame-600 dark:bg-flame-700 text-white border-b-2 border-flame-400'\n                    : 'text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800'\n                }`}\n              >\n                {tab === 'my-plans' ? 'My Plans' : tab === 'find-plans' ? 'Find Plans' : tab.charAt(0).toUpperCase() + tab.slice(1)}\n              </button>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Plan Reader View */}\n      {showPlanReader && currentPlanId && (\n        <section className=\"bg-white/90 dark:bg-gray-900/90 backdrop-blur-md\">\n          <PlanReader planId={currentPlanId} onClose={handleClosePlanReader} />\n        </section>\n      )}\n\n      {/* Main Content */}\n      {!showPlanReader && (\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n          {activeTab === 'find-plans' ? (\n            <>\n              {/* Featured Reading Plans Section - YouVersion Style (LARGE Cards) */}\n              {featuredPlans.length > 0 && (\n                <div className=\"mb-16\">\n                  <div className=\"flex flex-col md:flex-row items-center md:justify-between mb-6\">\n                    <h2 className=\"font-serif text-xl sm:text-2xl md:text-3xl font-bold text-gray-800 dark:text-white mb-4 md:mb-0 text-center md:text-left\">\n                      Featured Reading Plans\n                    </h2>\n                    <div className=\"hidden md:flex items-center gap-2\">\n                      <button\n                        onClick={() => scrollRow(featuredScrollRef, 'left')}\n                        className=\"p-2 rounded-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm\"\n                        aria-label=\"Scroll left\"\n                      >\n                        <ChevronLeft className=\"h-5 w-5 text-gray-600 dark:text-gray-400\" />\n                      </button>\n                      <button\n                        onClick={() => scrollRow(featuredScrollRef, 'right')}\n                        className=\"p-2 rounded-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm\"\n                        aria-label=\"Scroll right\"\n                      >\n                        <ChevronRight className=\"h-5 w-5 text-gray-600 dark:text-gray-400\" />\n                      </button>\n                    </div>\n                  </div>\n                  <div\n                    ref={featuredScrollRef}\n                    className=\"grid grid-cols-1 md:flex md:gap-6 md:overflow-x-auto md:scrollbar-hide pb-4\"\n                    style={{ scrollbarWidth: 'none', msOverflowStyle: 'none' }}\n                  >\n                    {featuredPlans.map((plan) => (\n                      <div key={plan.id} className=\"w-full max-w-sm mx-auto md:max-w-none md:flex-shrink-0 md:w-[500px]\">\n                        <ReadingPlanCard\n                          plan={plan}\n                          progress={planProgress[plan.id]}\n                          isSaved={savedPlans.has(plan.id)}\n                          onStart={() => handleStartPlan(plan.id)}\n                          onContinue={() => handleContinuePlan(plan.id)}\n                          onSave={() => handleSavePlan(plan.id)}\n                          onUnsave={() => handleUnsavePlan(plan.id)}\n                          size=\"featured\"\n                        />\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Category Filter Buttons - YouVersion Style (Full Width Rectangles, Mobile Scrollable) */}\n              <div className=\"mb-12 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8\">\n                <div className=\"flex gap-0 w-full overflow-x-auto scrollbar-hide pb-2\" style={{ scrollbarWidth: 'none', msOverflowStyle: 'none', WebkitOverflowScrolling: 'touch' }}>\n                  <button\n                    onClick={() => setSelectedCategory('all')}\n                    className={`flex-shrink-0 min-w-[100px] sm:min-w-[120px] sm:flex-1 py-3 sm:py-4 rounded-none text-xs sm:text-base font-bold transition-all duration-200 whitespace-nowrap ${\n                      selectedCategory === 'all'\n                        ? 'bg-gradient-to-r from-flame-400/90 to-orange-400/90 text-white'\n                        : 'bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-r border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700'\n                    }`}\n                    style={selectedCategory === 'all' ? {\n                      textShadow: '-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000'\n                    } : {}}\n                  >\n                    All Plans\n                  </button>\n                  {categories.map((category, index) => (\n                    <button\n                      key={category}\n                      onClick={() => setSelectedCategory(category)}\n                      className={`flex-shrink-0 min-w-[100px] sm:min-w-[120px] sm:flex-1 py-3 sm:py-4 rounded-none text-xs sm:text-base font-bold transition-all duration-200 text-white whitespace-nowrap ${\n                        selectedCategory === category\n                          ? `${categoryButtonColors[category]}`\n                          : `${categoryButtonColors[category]} opacity-70 hover:opacity-85`\n                      } ${index < categories.length - 1 ? 'border-r border-white/20' : ''}`}\n                      style={{\n                        textShadow: '-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000'\n                      }}\n                    >\n                      {categoryLabels[category]}\n                    </button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Themed Category Rows - YouVersion Style */}\n              {/* Healing row - separate */}\n              {(() => {\n                const healingPlans = getPlansByCategory('healing')\n                if (healingPlans.length > 0) {\n                  return renderCategoryRow('healing', categoryLabels['healing'])\n                }\n                return null\n              })()}\n              \n              {/* Combined row: Sabbath, Health, New to Faith */}\n              {renderCombinedCategoryRow(['sabbath', 'health', 'new-believer'], 'Sabbath, Health & New to Faith')}\n              \n              {/* Other categories - separate rows */}\n              {categories\n                .filter(category => !['healing', 'sabbath', 'health', 'new-believer'].includes(category))\n                .map((category) => {\n                  const categoryPlans = getPlansByCategory(category)\n                  if (categoryPlans.length === 0) return null\n                  return renderCategoryRow(category, categoryLabels[category])\n                })}\n            </>\n          ) : (\n            /* My Plans, Saved, Completed - Horizontal Scrolling Rows */\n            <div>\n              <div className=\"flex items-center justify-between mb-6\">\n                <h2 className=\"font-serif text-2xl font-bold text-gray-800 dark:text-white\">\n                  {activeTab === 'my-plans' ? 'My Plans' : activeTab === 'saved' ? 'Saved Plans' : 'Completed Plans'}\n                </h2>\n                <span className=\"text-gray-600 dark:text-gray-400 text-sm\">\n                  {filteredPlans.length} {filteredPlans.length === 1 ? 'plan' : 'plans'}\n                </span>\n              </div>\n              {filteredPlans.length === 0 ? (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-gray-600 dark:text-gray-400 text-lg\">\n                    {activeTab === 'my-plans' && 'You haven\\'t started any plans yet.'}\n                    {activeTab === 'saved' && 'You haven\\'t saved any plans yet.'}\n                    {activeTab === 'completed' && 'You haven\\'t completed any plans yet.'}\n                  </p>\n                </div>\n              ) : (\n                <div className=\"mb-6\">\n                  <div className=\"hidden md:flex items-center justify-end mb-4\">\n                    <div className=\"flex items-center gap-2\">\n                      <button\n                        onClick={() => {\n                          const ref = activeTab === 'my-plans' ? myPlansScrollRef : activeTab === 'saved' ? savedScrollRef : completedScrollRef\n                          scrollRow(ref, 'left')\n                        }}\n                        className=\"p-2 rounded-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm\"\n                        aria-label=\"Scroll left\"\n                      >\n                        <ChevronLeft className=\"h-5 w-5 text-gray-600 dark:text-gray-400\" />\n                      </button>\n                      <button\n                        onClick={() => {\n                          const ref = activeTab === 'my-plans' ? myPlansScrollRef : activeTab === 'saved' ? savedScrollRef : completedScrollRef\n                          scrollRow(ref, 'right')\n                        }}\n                        className=\"p-2 rounded-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm\"\n                        aria-label=\"Scroll right\"\n                      >\n                        <ChevronRight className=\"h-5 w-5 text-gray-600 dark:text-gray-400\" />\n                      </button>\n                    </div>\n                  </div>\n                  <div\n                    ref={activeTab === 'my-plans' ? myPlansScrollRef : activeTab === 'saved' ? savedScrollRef : completedScrollRef}\n                    className=\"grid grid-cols-1 md:flex md:gap-3 md:gap-4 md:overflow-x-auto md:scrollbar-hide gap-4 md:gap-3 pb-4\"\n                    style={{ scrollbarWidth: 'none', msOverflowStyle: 'none' }}\n                  >\n                    {filteredPlans.map((plan) => (\n                      <div key={plan.id} className=\"w-full max-w-sm mx-auto md:max-w-none md:flex-shrink-0 md:w-64\">\n                        <ReadingPlanCard\n                          plan={plan}\n                          progress={planProgress[plan.id]}\n                          isSaved={savedPlans.has(plan.id)}\n                          onStart={() => handleStartPlan(plan.id)}\n                          onContinue={() => handleContinuePlan(plan.id)}\n                          onSave={() => handleSavePlan(plan.id)}\n                          onUnsave={() => handleUnsavePlan(plan.id)}\n                          size=\"small\"\n                        />\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Bible Study Tips Section */}\n      <section className=\"py-16 bg-white/90 dark:bg-gray-900/90 backdrop-blur-md\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <h2 className=\"font-serif text-3xl font-bold text-gray-800 dark:text-white mb-8 text-center\">\n            Bible Study Tips\n          </h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n            <div className=\"bg-gradient-to-br from-sky-50/90 to-sky-100/90 dark:from-sky-900/30 dark:to-sky-800/30 backdrop-blur-sm rounded-xl p-6 border border-sky-200/50 dark:border-sky-700/50\">\n              <h3 className=\"font-serif text-xl font-semibold text-sky-700 dark:text-sky-300 mb-4\">\n                Start with Prayer\n              </h3>\n              <p className=\"text-gray-700 dark:text-gray-200 leading-relaxed\">\n                Before diving into Scripture, ask the Holy Spirit to open your heart and mind \n                to receive God's truth. Prayer prepares us to hear from God through His Word.\n              </p>\n            </div>\n            \n            <div className=\"bg-gradient-to-br from-flame-50/90 to-flame-100/90 dark:from-flame-900/30 dark:to-flame-800/30 backdrop-blur-sm rounded-xl p-6 border border-flame-200/50 dark:border-flame-700/50\">\n              <h3 className=\"font-serif text-xl font-semibold text-flame-700 dark:text-flame-300 mb-4\">\n                Read in Context\n              </h3>\n              <p className=\"text-gray-700 dark:text-gray-200 leading-relaxed\">\n                Understanding the historical and cultural context helps us interpret Scripture \n                accurately. Consider who wrote it, when, and to whom it was written.\n              </p>\n            </div>\n            \n            <div className=\"bg-gradient-to-br from-sage-50/90 to-sage-100/90 dark:from-sage-900/30 dark:to-sage-800/30 backdrop-blur-sm rounded-xl p-6 border border-sage-200/50 dark:border-sage-700/50\">\n              <h3 className=\"font-serif text-xl font-semibold text-sage-700 dark:text-sage-300 mb-4\">\n                Apply Personally\n              </h3>\n              <p className=\"text-gray-700 dark:text-gray-200 leading-relaxed\">\n                Ask yourself: \"What is God saying to me through this passage?\" Look for \n                practical ways to apply biblical truths to your daily life and relationships.\n              </p>\n            </div>\n            \n            <div className=\"bg-gradient-to-br from-purple-50/90 to-purple-100/90 dark:from-purple-900/30 dark:to-purple-800/30 backdrop-blur-sm rounded-xl p-6 border border-purple-200/50 dark:border-purple-700/50\">\n              <h3 className=\"font-serif text-xl font-semibold text-purple-700 dark:text-purple-300 mb-4\">\n                Study Consistently\n              </h3>\n              <p className=\"text-gray-700 dark:text-gray-200 leading-relaxed\">\n                Regular, consistent study is more beneficial than occasional long sessions. \n                Even 10-15 minutes daily can transform your relationship with God.\n              </p>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  )\n}\n\nexport default BibleStudy","// IndexedDB utilities for Bible Study offline storage\n\nconst DB_NAME = 'bible-study-db'\nconst DB_VERSION = 2 // Incremented to add saved-plans store\n\nexport interface ScriptureReference {\n  book: string\n  chapter: number\n  verse?: number\n  startVerse?: number\n  endVerse?: number\n}\n\nexport interface PlanData {\n  planId: string\n  title: string\n  description: string\n  duration: number\n  category: string\n  sdaAligned: boolean\n  readings: Array<{\n    day: number\n    dayTitle?: string\n    devotional: string\n    scripture: ScriptureReference[]\n  }>\n}\n\nexport interface ProgressData {\n  planId: string\n  currentDay: number\n  startedDate: string // ISO date string\n  completedDays: number[]\n  lastAccessed: string // ISO date string\n}\n\nexport interface KJVTextData {\n  reference: string // e.g., \"GEN.1.1-31\"\n  book: string\n  chapter: number\n  verses: Record<number, string> // verse number -> text\n  cachedDate: string\n}\n\nexport interface CurrentPlanData {\n  id: 'current'\n  planId: string\n  day: number\n  lastUpdated: string\n}\n\nexport interface SavedPlanData {\n  planId: string\n  savedDate: string\n}\n\nclass IndexedDBService {\n  private db: IDBDatabase | null = null\n\n  async init(): Promise<void> {\n    // Check if we're in the browser\n    if (typeof window === 'undefined' || !window.indexedDB) {\n      throw new Error('IndexedDB is not available (server-side rendering)')\n    }\n\n    return new Promise((resolve, reject) => {\n      const request = indexedDB.open(DB_NAME, DB_VERSION)\n\n      request.onerror = () => {\n        const error = request.error\n        // If error is version mismatch, try to handle it gracefully\n        if (error && error.name === 'VersionError') {\n          console.warn('Version mismatch detected. Attempting to open with existing version...')\n          // Try opening without specifying version to get current version\n          const checkRequest = indexedDB.open(DB_NAME)\n          checkRequest.onsuccess = () => {\n            const currentVersion = checkRequest.result.version\n            checkRequest.result.close()\n            // If current version is higher, open with that version\n            if (currentVersion >= DB_VERSION) {\n              const reopenRequest = indexedDB.open(DB_NAME, currentVersion)\n              reopenRequest.onsuccess = () => {\n                this.db = reopenRequest.result\n                console.log(`Opened database with existing version ${currentVersion}`)\n                resolve()\n              }\n              reopenRequest.onerror = () => {\n                console.error('Failed to open with existing version:', reopenRequest.error)\n                // Still resolve - database exists, we just can't upgrade it\n                resolve()\n              }\n            } else {\n              // Current version is lower, try to upgrade\n              const upgradeRequest = indexedDB.open(DB_NAME, DB_VERSION)\n              upgradeRequest.onsuccess = () => {\n                this.db = upgradeRequest.result\n                resolve()\n              }\n              upgradeRequest.onerror = () => {\n                console.error('Failed to upgrade database:', upgradeRequest.error)\n                resolve() // Don't block - allow page to render\n              }\n              upgradeRequest.onupgradeneeded = (event) => {\n                const db = (event.target as IDBOpenDBRequest).result\n                const oldVersion = event.oldVersion || 0\n                this.handleUpgrade(db, oldVersion)\n              }\n            }\n          }\n          checkRequest.onerror = () => {\n            console.error('Failed to check database version:', checkRequest.error)\n            resolve() // Don't block - allow page to render without IndexedDB\n          }\n        } else {\n          console.error('IndexedDB error:', error)\n          // Don't reject - allow page to render without IndexedDB\n          resolve()\n        }\n      }\n      \n      request.onsuccess = () => {\n        this.db = request.result\n        resolve()\n      }\n\n      request.onupgradeneeded = (event) => {\n        const db = (event.target as IDBOpenDBRequest).result\n        const oldVersion = event.oldVersion || 0\n        this.handleUpgrade(db, oldVersion)\n      }\n    })\n  }\n\n  private handleUpgrade(db: IDBDatabase, oldVersion: number): void {\n    // Plans store\n    if (!db.objectStoreNames.contains('plans')) {\n      const plansStore = db.createObjectStore('plans', { keyPath: 'planId' })\n      plansStore.createIndex('category', 'category', { unique: false })\n    }\n\n    // Progress store\n    if (!db.objectStoreNames.contains('progress')) {\n      const progressStore = db.createObjectStore('progress', { keyPath: 'planId' })\n      progressStore.createIndex('lastAccessed', 'lastAccessed', { unique: false })\n    }\n\n    // KJV text store\n    if (!db.objectStoreNames.contains('kjv-text')) {\n      const kjvStore = db.createObjectStore('kjv-text', { keyPath: 'reference' })\n      kjvStore.createIndex('book', 'book', { unique: false })\n      kjvStore.createIndex('chapter', 'chapter', { unique: false })\n    }\n\n    // Current plan store\n    if (!db.objectStoreNames.contains('current-plan')) {\n      db.createObjectStore('current-plan', { keyPath: 'id' })\n    }\n\n    // Saved plans store (added in version 2)\n    if (oldVersion < 2 && !db.objectStoreNames.contains('saved-plans')) {\n      const savedStore = db.createObjectStore('saved-plans', { keyPath: 'planId' })\n      savedStore.createIndex('savedDate', 'savedDate', { unique: false })\n    }\n  }\n\n  private async ensureDB(): Promise<IDBDatabase> {\n    if (!this.db) {\n      await this.init()\n    }\n    if (!this.db) {\n      throw new Error('Failed to initialize IndexedDB')\n    }\n    return this.db\n  }\n\n  // Plans\n  async savePlan(plan: PlanData): Promise<void> {\n    const db = await this.ensureDB()\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction(['plans'], 'readwrite')\n      const store = transaction.objectStore('plans')\n      const request = store.put(plan)\n      request.onsuccess = () => resolve()\n      request.onerror = () => reject(request.error)\n    })\n  }\n\n  async getPlan(planId: string): Promise<PlanData | null> {\n    const db = await this.ensureDB()\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction(['plans'], 'readonly')\n      const store = transaction.objectStore('plans')\n      const request = store.get(planId)\n      request.onsuccess = () => resolve(request.result || null)\n      request.onerror = () => reject(request.error)\n    })\n  }\n\n  async getAllPlans(): Promise<PlanData[]> {\n    const db = await this.ensureDB()\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction(['plans'], 'readonly')\n      const store = transaction.objectStore('plans')\n      const request = store.getAll()\n      request.onsuccess = () => resolve(request.result || [])\n      request.onerror = () => reject(request.error)\n    })\n  }\n\n  // Progress\n  async saveProgress(progress: ProgressData): Promise<void> {\n    const db = await this.ensureDB()\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction(['progress'], 'readwrite')\n      const store = transaction.objectStore('progress')\n      const request = store.put(progress)\n      request.onsuccess = () => resolve()\n      request.onerror = () => reject(request.error)\n    })\n  }\n\n  async getProgress(planId: string): Promise<ProgressData | null> {\n    const db = await this.ensureDB()\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction(['progress'], 'readonly')\n      const store = transaction.objectStore('progress')\n      const request = store.get(planId)\n      request.onsuccess = () => resolve(request.result || null)\n      request.onerror = () => reject(request.error)\n    })\n  }\n\n  async updateProgressDay(planId: string, day: number, completed: boolean): Promise<void> {\n    const progress = await this.getProgress(planId)\n    if (!progress) {\n      throw new Error('Progress not found')\n    }\n\n    if (completed) {\n      if (!progress.completedDays.includes(day)) {\n        progress.completedDays.push(day)\n      }\n    } else {\n      progress.completedDays = progress.completedDays.filter(d => d !== day)\n    }\n\n    progress.currentDay = Math.max(progress.currentDay, day)\n    progress.lastAccessed = new Date().toISOString()\n\n    await this.saveProgress(progress)\n  }\n\n  // Current Plan\n  async setCurrentPlan(planId: string, day: number): Promise<void> {\n    const db = await this.ensureDB()\n    const currentPlan: CurrentPlanData = {\n      id: 'current',\n      planId,\n      day,\n      lastUpdated: new Date().toISOString(),\n    }\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction(['current-plan'], 'readwrite')\n      const store = transaction.objectStore('current-plan')\n      const request = store.put(currentPlan)\n      request.onsuccess = () => resolve()\n      request.onerror = () => reject(request.error)\n    })\n  }\n\n  async getCurrentPlan(): Promise<CurrentPlanData | null> {\n    const db = await this.ensureDB()\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction(['current-plan'], 'readonly')\n      const store = transaction.objectStore('current-plan')\n      const request = store.get('current')\n      request.onsuccess = () => resolve(request.result || null)\n      request.onerror = () => reject(request.error)\n    })\n  }\n\n  // KJV Text\n  async saveKJVText(data: KJVTextData): Promise<void> {\n    const db = await this.ensureDB()\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction(['kjv-text'], 'readwrite')\n      const store = transaction.objectStore('kjv-text')\n      const request = store.put(data)\n      request.onsuccess = () => resolve()\n      request.onerror = () => reject(request.error)\n    })\n  }\n\n  async getKJVText(reference: string): Promise<KJVTextData | null> {\n    const db = await this.ensureDB()\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction(['kjv-text'], 'readonly')\n      const store = transaction.objectStore('kjv-text')\n      const request = store.get(reference)\n      request.onsuccess = () => resolve(request.result || null)\n      request.onerror = () => reject(request.error)\n    })\n  }\n\n  async getKJVChapter(book: string, chapter: number): Promise<KJVTextData | null> {\n    const db = await this.ensureDB()\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction(['kjv-text'], 'readonly')\n      const store = transaction.objectStore('kjv-text')\n      const index = store.index('book')\n      const request = index.getAll()\n      \n      request.onsuccess = () => {\n        const results = request.result as KJVTextData[]\n        const match = results.find(\n          r => r.book === book && r.chapter === chapter\n        )\n        resolve(match || null)\n      }\n      request.onerror = () => reject(request.error)\n    })\n  }\n\n  async hasKJVText(reference: string): Promise<boolean> {\n    const text = await this.getKJVText(reference)\n    return text !== null\n  }\n\n  // Utility: Check if KJV is downloaded\n  async isKJVDownloaded(): Promise<boolean> {\n    const db = await this.ensureDB()\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction(['kjv-text'], 'readonly')\n      const store = transaction.objectStore('kjv-text')\n      const request = store.count()\n      request.onsuccess = () => {\n        // Consider KJV downloaded if we have at least 10 chapters cached\n        resolve(request.result >= 10)\n      }\n      request.onerror = () => reject(request.error)\n    })\n  }\n\n  // Saved Plans\n  async savePlanToSaved(planId: string): Promise<void> {\n    const db = await this.ensureDB()\n    \n    // Check if store exists (for databases that haven't upgraded yet)\n    if (!db.objectStoreNames.contains('saved-plans')) {\n      // Reinitialize to trigger upgrade\n      await this.init()\n      const newDb = await this.ensureDB()\n      if (!newDb.objectStoreNames.contains('saved-plans')) {\n        throw new Error('Saved plans store not available')\n      }\n    }\n    \n    const savedPlan: SavedPlanData = {\n      planId,\n      savedDate: new Date().toISOString(),\n    }\n    return new Promise((resolve, reject) => {\n      try {\n        const transaction = db.transaction(['saved-plans'], 'readwrite')\n        const store = transaction.objectStore('saved-plans')\n        const request = store.put(savedPlan)\n        request.onsuccess = () => resolve()\n        request.onerror = () => reject(request.error)\n      } catch (error) {\n        reject(error)\n      }\n    })\n  }\n\n  async removeSavedPlan(planId: string): Promise<void> {\n    const db = await this.ensureDB()\n    \n    // Check if store exists (for databases that haven't upgraded yet)\n    if (!db.objectStoreNames.contains('saved-plans')) {\n      return // Nothing to remove\n    }\n    \n    return new Promise((resolve, reject) => {\n      try {\n        const transaction = db.transaction(['saved-plans'], 'readwrite')\n        const store = transaction.objectStore('saved-plans')\n        const request = store.delete(planId)\n        request.onsuccess = () => resolve()\n        request.onerror = () => reject(request.error)\n      } catch (error) {\n        reject(error)\n      }\n    })\n  }\n\n  async getSavedPlans(): Promise<string[]> {\n    const db = await this.ensureDB()\n    \n    // Check if store exists (for databases that haven't upgraded yet)\n    if (!db.objectStoreNames.contains('saved-plans')) {\n      return []\n    }\n    \n    return new Promise((resolve, reject) => {\n      try {\n        const transaction = db.transaction(['saved-plans'], 'readonly')\n        const store = transaction.objectStore('saved-plans')\n        const request = store.getAll()\n        request.onsuccess = () => resolve(request.result.map((p: SavedPlanData) => p.planId))\n        request.onerror = () => reject(request.error)\n      } catch (error) {\n        // Store doesn't exist yet, return empty array\n        resolve([])\n      }\n    })\n  }\n\n  async isPlanSaved(planId: string): Promise<boolean> {\n    const db = await this.ensureDB()\n    \n    // Check if store exists (for databases that haven't upgraded yet)\n    if (!db.objectStoreNames.contains('saved-plans')) {\n      return false\n    }\n    \n    return new Promise((resolve, reject) => {\n      try {\n        const transaction = db.transaction(['saved-plans'], 'readonly')\n        const store = transaction.objectStore('saved-plans')\n        const request = store.get(planId)\n        request.onsuccess = () => resolve(!!request.result)\n        request.onerror = () => reject(request.error)\n      } catch (error) {\n        // Store doesn't exist yet, return false\n        resolve(false)\n      }\n    })\n  }\n}\n\n// Export singleton instance\nexport const dbService = new IndexedDBService()\n\n// Don't auto-initialize - let components handle initialization\n// This prevents SSR issues\n","'use client'\n\nimport React, { useEffect, useState } from 'react'\nimport { ChevronLeft, ChevronRight, CheckCircle, BookOpen, Download, X, Calendar } from 'lucide-react'\nimport { progressTracker } from '../lib/progress-tracker'\nimport { kjvService } from '../lib/kjv-offline'\nimport { ReadingPlan } from '../data/readingPlans'\nimport { getBookById } from '../data/bibleData'\n\ninterface PlanReaderProps {\n  planId: string\n  onClose?: () => void\n}\n\nexport default function PlanReader({ planId, onClose }: PlanReaderProps) {\n  const [plan, setPlan] = useState<ReadingPlan | null>(null)\n  const [currentDay, setCurrentDay] = useState<number>(1)\n  const [kjvText, setKjvText] = useState<string | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [textLoading, setTextLoading] = useState(false)\n  const [isCompleted, setIsCompleted] = useState(false)\n  const [kjvDownloaded, setKjvDownloaded] = useState(false)\n\n  useEffect(() => {\n    loadPlan()\n    checkKJVStatus()\n  }, [planId])\n\n  useEffect(() => {\n    if (plan) {\n      loadTodaysReading()\n    }\n  }, [plan, currentDay])\n\n  // Scroll to top when day changes - MUST be before early returns\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      window.scrollTo({ top: 0, behavior: 'smooth' })\n    }\n  }, [currentDay])\n\n  const loadPlan = async () => {\n    try {\n      // Get plan from static data first\n      const { getPlanById } = await import('../data/readingPlans')\n      const staticPlan = getPlanById(planId)\n      if (!staticPlan) {\n        console.error('Plan not found:', planId)\n        setLoading(false)\n        return\n      }\n\n      setPlan(staticPlan)\n\n      // Check if plan is started (has progress)\n      const { progress } = await progressTracker.getCurrentPlan()\n      if (progress && progress.planId === planId) {\n        setCurrentDay(progress.currentDay)\n        setIsCompleted(progress.completedDays.includes(progress.currentDay))\n      } else {\n        // Plan not started yet\n        setCurrentDay(1)\n        setIsCompleted(false)\n      }\n    } catch (error) {\n      console.error('Error loading plan:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const checkKJVStatus = async () => {\n    const downloaded = await kjvService.isDownloaded()\n    setKjvDownloaded(downloaded)\n  }\n\n  const loadTodaysReading = async () => {\n    if (!plan) return\n\n    const reading = plan.readings.find(r => r.day === currentDay)\n    if (!reading || reading.scripture.length === 0) return\n\n    setTextLoading(true)\n    try {\n      // Load all scripture references for this day\n      const scriptureTexts: string[] = []\n      \n      for (const ref of reading.scripture) {\n        if (ref.verse) {\n          // Single verse\n          const text = await kjvService.getText(ref.book, ref.chapter, ref.verse, ref.verse)\n          if (text) {\n            scriptureTexts.push(`${ref.book} ${ref.chapter}:${ref.verse}\\n${text}`)\n          }\n        } else if (ref.startVerse && ref.endVerse) {\n          // Verse range\n          const text = await kjvService.getText(ref.book, ref.chapter, ref.startVerse, ref.endVerse)\n          if (text) {\n            scriptureTexts.push(`${ref.book} ${ref.chapter}:${ref.startVerse}-${ref.endVerse}\\n${text}`)\n          }\n        } else {\n          // Full chapter\n          const text = await kjvService.getText(ref.book, ref.chapter)\n          if (text) {\n            scriptureTexts.push(`${ref.book} ${ref.chapter}\\n${text}`)\n          }\n        }\n      }\n\n      if (scriptureTexts.length > 0) {\n        setKjvText(scriptureTexts.join('\\n\\n'))\n      } else {\n        setKjvText('Text not available offline. Please download KJV or connect to internet.')\n      }\n    } catch (error) {\n      console.error('Error loading text:', error)\n      setKjvText('Error loading text')\n    } finally {\n      setTextLoading(false)\n    }\n  }\n\n  const handleComplete = async () => {\n    if (!plan) return\n\n    try {\n      await progressTracker.completeDay(plan.id, currentDay)\n      setIsCompleted(true)\n    } catch (error) {\n      console.error('Error completing day:', error)\n    }\n  }\n\n  const handleUncomplete = async () => {\n    if (!plan) return\n\n    try {\n      await progressTracker.uncompleteDay(plan.id, currentDay)\n      setIsCompleted(false)\n    } catch (error) {\n      console.error('Error uncompleting day:', error)\n    }\n  }\n\n  const handleNextDay = async () => {\n    if (!plan || currentDay >= plan.duration) return\n\n    try {\n      await progressTracker.nextDay(plan.id)\n      setCurrentDay(currentDay + 1)\n      setIsCompleted(false)\n    } catch (error) {\n      console.error('Error advancing day:', error)\n    }\n  }\n\n  const handlePreviousDay = async () => {\n    if (!plan || currentDay <= 1) return\n\n    try {\n      await progressTracker.previousDay(plan.id)\n      setCurrentDay(currentDay - 1)\n      // Check if this day is completed\n      const { progress } = await progressTracker.getCurrentPlan()\n      setIsCompleted(progress?.completedDays.includes(currentDay - 1) || false)\n    } catch (error) {\n      console.error('Error going back:', error)\n    }\n  }\n\n  const handleDownloadKJV = async () => {\n    if (!navigator.onLine) {\n      alert('You need to be online to download KJV. Please check your internet connection.')\n      return\n    }\n\n    if (!confirm('Downloading the full KJV Bible will take several minutes and use about 4-5MB of storage. Continue?')) {\n      return\n    }\n\n    try {\n      await kjvService.downloadFullKJV((progress) => {\n        console.log(`Downloading: ${progress.percentage}% - ${progress.book} ${progress.chapter}`)\n        // TODO: Show progress UI\n      })\n      alert('KJV download complete! You can now read offline.')\n      setKjvDownloaded(true)\n    } catch (error) {\n      console.error('Error downloading KJV:', error)\n      alert('Error downloading KJV. Please try again.')\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"text-center py-12\">\n        <p className=\"text-gray-600 dark:text-gray-400\">Loading plan...</p>\n      </div>\n    )\n  }\n\n  if (!plan) {\n    return (\n      <div className=\"text-center py-12\">\n        <p className=\"text-gray-600 dark:text-gray-400\">Plan not found</p>\n      </div>\n    )\n  }\n\n  const reading = plan.readings.find(r => r.day === currentDay)\n\n  return (\n    <div className=\"min-h-screen\">\n      {/* Sticky Navigation Header - Like YouVersion */}\n      <div className=\"sticky top-16 z-40 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 shadow-sm\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between py-4\">\n            {/* Plan Title & Day Info */}\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center gap-3\">\n                {onClose && (\n                  <button\n                    onClick={onClose}\n                    className=\"flex-shrink-0 p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors\"\n                    aria-label=\"Back to plans\"\n                  >\n                    <X className=\"h-5 w-5\" />\n                  </button>\n                )}\n                <div className=\"min-w-0 flex-1\">\n                  <h2 className=\"font-serif text-lg font-bold text-gray-800 dark:text-white truncate\">\n                    {plan.title}\n                  </h2>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400 font-medium\">\n                    DAY {currentDay} OF {plan.duration}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Day Navigation - Pagination Style */}\n            <div className=\"flex items-center gap-2 ml-4\">\n              <button\n                onClick={handlePreviousDay}\n                disabled={currentDay <= 1}\n                className=\"p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                aria-label=\"Previous day\"\n              >\n                <ChevronLeft className=\"h-5 w-5\" />\n              </button>\n\n              {/* Day Selector - Show current day number */}\n              <div className=\"px-3 py-1.5 bg-flame-100 dark:bg-flame-900/50 rounded-lg\">\n                <span className=\"text-sm font-semibold text-flame-700 dark:text-flame-300\">\n                  {currentDay}\n                </span>\n              </div>\n\n              <button\n                onClick={handleNextDay}\n                disabled={currentDay >= plan.duration}\n                className=\"p-2 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                aria-label=\"Next day\"\n              >\n                <ChevronRight className=\"h-5 w-5\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Progress Bar */}\n          <div className=\"pb-3\">\n            <div className=\"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400 mb-1\">\n              <span>Progress</span>\n              <span>{Math.round((currentDay / plan.duration) * 100)}%</span>\n            </div>\n            <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5\">\n              <div\n                className=\"bg-gradient-to-r from-flame-500 to-orange-500 h-1.5 rounded-full transition-all duration-300\"\n                style={{ width: `${(currentDay / plan.duration) * 100}%` }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* KJV Download Status */}\n        {!kjvDownloaded && (\n          <div className=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-6\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <Download className=\"h-5 w-5 text-yellow-600 dark:text-yellow-400\" />\n                <p className=\"text-sm text-yellow-800 dark:text-yellow-200\">\n                  Download KJV for offline reading\n                </p>\n              </div>\n              <button\n                onClick={handleDownloadKJV}\n                className=\"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white text-sm font-medium rounded-lg transition-colors\"\n              >\n                Download KJV\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Complete Button - Prominent */}\n        <div className=\"mb-6 flex justify-center\">\n          <button\n            onClick={isCompleted ? handleUncomplete : handleComplete}\n            className={`flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105 ${\n              isCompleted\n                ? 'bg-green-500 hover:bg-green-600 text-white'\n                : 'bg-gradient-to-r from-flame-500 to-orange-500 hover:from-flame-600 hover:to-orange-600 text-white'\n            }`}\n          >\n            <CheckCircle className=\"h-5 w-5\" />\n            {isCompleted ? ' Completed' : 'Mark as Complete'}\n          </button>\n        </div>\n\n        {/* Today's Reading */}\n        {reading && (\n          <div className=\"space-y-8\">\n            {/* Devotional Content */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl p-8 border border-gray-200 dark:border-gray-700 shadow-lg\">\n              {reading.dayTitle && (\n                <h3 className=\"font-serif text-2xl font-bold text-gray-800 dark:text-white mb-6\">\n                  {reading.dayTitle}\n                </h3>\n              )}\n              <div className=\"prose prose-lg max-w-none dark:prose-invert\">\n                <div className=\"text-gray-800 dark:text-gray-200 leading-relaxed whitespace-pre-wrap text-base\">\n                  {reading.devotional}\n                </div>\n              </div>\n            </div>\n\n            {/* Scripture Section */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl p-8 border border-gray-200 dark:border-gray-700 shadow-lg\">\n              <div className=\"flex items-center gap-2 mb-6\">\n                <BookOpen className=\"h-6 w-6 text-flame-500\" />\n                <h3 className=\"font-serif text-2xl font-bold text-gray-800 dark:text-white\">\n                  Scripture\n                </h3>\n              </div>\n\n              {/* Scripture References - Clickable Links */}\n              <div className=\"mb-6 space-y-3\">\n                {reading.scripture.map((ref, idx) => {\n                  const bookName = getBookById(ref.book)?.name || ref.book\n                  let reference = `${bookName} ${ref.chapter}`\n                  if (ref.verse) {\n                    reference += `:${ref.verse}`\n                  } else if (ref.startVerse && ref.endVerse) {\n                    reference += `:${ref.startVerse}-${ref.endVerse}`\n                  } else if (ref.startVerse) {\n                    reference += `:${ref.startVerse}`\n                  }\n                  return (\n                    <div\n                      key={idx}\n                      className=\"text-flame-600 dark:text-flame-400 font-semibold text-lg hover:text-flame-700 dark:hover:text-flame-300 cursor-pointer transition-colors\"\n                    >\n                      {reference}\n                    </div>\n                  )\n                })}\n              </div>\n\n              {/* Bible Text */}\n              <div className=\"prose prose-lg max-w-none dark:prose-invert\">\n                {textLoading ? (\n                  <p className=\"text-gray-600 dark:text-gray-400\">Loading text...</p>\n                ) : kjvText ? (\n                  <div className=\"text-gray-800 dark:text-gray-200 leading-relaxed whitespace-pre-wrap text-base\">\n                    {kjvText}\n                  </div>\n                ) : (\n                  <p className=\"text-gray-600 dark:text-gray-400\">\n                    Text not available. Please download KJV or check your connection.\n                  </p>\n                )}\n              </div>\n            </div>\n\n            {/* Bottom Navigation */}\n            <div className=\"flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-700\">\n              <button\n                onClick={handlePreviousDay}\n                disabled={currentDay <= 1}\n                className=\"flex items-center gap-2 px-6 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium\"\n              >\n                <ChevronLeft className=\"h-5 w-5\" />\n                Previous Day\n              </button>\n\n              <button\n                onClick={handleNextDay}\n                disabled={currentDay >= plan.duration}\n                className=\"flex items-center gap-2 px-6 py-3 rounded-lg border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium\"\n              >\n                Next Day\n                <ChevronRight className=\"h-5 w-5\" />\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n","'use client'\n\nimport React from 'react'\nimport { Bookmark, ArrowRight, CheckCircle } from 'lucide-react'\nimport { ReadingPlan } from '../data/readingPlans'\n\ninterface ReadingPlanCardProps {\n  plan: ReadingPlan\n  progress?: number // 0-100 percentage\n  isSaved?: boolean\n  onStart?: () => void\n  onContinue?: () => void\n  onSave?: () => void\n  onUnsave?: () => void\n  size?: 'featured' | 'default' | 'small'\n  square?: boolean // Make card more square (for smaller rows)\n}\n\nconst categoryLabels = {\n  healing: 'Healing',\n  prophecy: 'Prophecy',\n  sabbath: 'Sabbath',\n  health: 'Health',\n  'new-believer': 'New Believer',\n  advent: 'Advent',\n  character: 'Character Study',\n  topical: 'Topical',\n}\n\nexport default function ReadingPlanCard({ \n  plan, \n  progress, \n  isSaved = false,\n  onStart, \n  onContinue,\n  onSave,\n  onUnsave,\n  size = 'default',\n  square = false\n}: ReadingPlanCardProps) {\n  const hasProgress = progress !== undefined && progress > 0\n\n  // Size-based styling - Mobile responsive\n  const sizeClasses = {\n    featured: {\n      container: 'p-4 sm:p-6 md:p-8',\n      title: 'text-lg sm:text-xl md:text-2xl',\n      description: 'text-sm sm:text-base',\n      badge: 'px-3 py-1 text-xs sm:px-4 sm:py-1.5 sm:text-sm',\n      button: 'px-4 py-2.5 text-sm sm:px-6 sm:py-4 sm:text-base'\n    },\n    default: {\n      container: 'p-4 sm:p-5 md:p-6',\n      title: 'text-base sm:text-lg md:text-xl',\n      description: 'text-xs sm:text-sm',\n      badge: 'px-2.5 py-0.5 text-xs sm:px-3 sm:py-1',\n      button: 'px-3 py-2 text-xs sm:px-4 sm:py-3 sm:text-sm'\n    },\n    small: {\n      container: 'p-3 sm:p-3',\n      title: 'text-sm sm:text-base',\n      description: 'text-xs',\n      badge: 'px-2 py-0.5 text-xs',\n      button: 'px-2.5 py-1.5 text-xs'\n    }\n  }\n\n  const classes = sizeClasses[size]\n\n  return (\n    <div className={`group relative bg-white dark:bg-gray-800 rounded-xl overflow-hidden border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-xl transition-all duration-300 ${size === 'featured' ? 'shadow-2xl' : ''} ${square ? 'aspect-square flex flex-col' : ''}`}>\n      <div className={`${classes.container} ${square ? 'flex-1 flex flex-col' : ''}`}>\n        {/* Top Row: Duration, Bookmark */}\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-2\">\n            <div className={`${classes.badge} rounded-full bg-flame-600 text-white font-semibold`}>\n              {plan.duration} Days\n            </div>\n          </div>\n          <button\n            onClick={(e) => {\n              e.stopPropagation()\n              if (isSaved && onUnsave) {\n                onUnsave()\n              } else if (!isSaved && onSave) {\n                onSave()\n              }\n            }}\n            className={`p-1.5 rounded transition-colors ${\n              isSaved \n                ? 'text-flame-600 dark:text-flame-400' \n                : 'text-gray-400 hover:text-flame-600 dark:hover:text-flame-400'\n            }`}\n            aria-label={isSaved ? 'Remove from saved' : 'Save plan'}\n          >\n            <Bookmark className={`${size === 'featured' ? 'h-6 w-6' : 'h-5 w-5'} ${isSaved ? 'fill-current' : ''}`} />\n          </button>\n        </div>\n\n        {/* Title */}\n        <h3 className={`font-serif ${classes.title} font-bold text-gray-800 dark:text-white mb-3 line-clamp-2`}>\n          {plan.title}\n        </h3>\n\n        {/* Description */}\n        <p className={`text-gray-600 dark:text-gray-300 ${classes.description} leading-relaxed mb-4 ${size === 'featured' ? 'line-clamp-4 sm:line-clamp-4' : square ? 'line-clamp-3 sm:line-clamp-2' : 'line-clamp-4 sm:line-clamp-3'} ${square ? 'flex-1' : ''}`}>\n          {plan.description}\n        </p>\n\n        {/* Category Tag */}\n        <div className=\"mb-4\">\n          <span className={`inline-block ${classes.badge} rounded font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300`}>\n            {categoryLabels[plan.category]}\n          </span>\n        </div>\n\n        {/* Progress Bar (if started) */}\n        {hasProgress && (\n          <div className=\"mb-4\">\n            <div className={`flex items-center justify-between ${classes.description} text-gray-600 dark:text-gray-400 mb-1`}>\n              <span>Progress</span>\n              <span>{Math.round(progress || 0)}%</span>\n            </div>\n            <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n              <div\n                className=\"bg-flame-600 h-2 rounded-full transition-all duration-300\"\n                style={{ width: `${progress}%` }}\n              />\n            </div>\n          </div>\n        )}\n\n        {/* Action Button */}\n        <button\n          onClick={hasProgress ? onContinue : onStart}\n          className={`w-full flex items-center justify-center gap-2 ${classes.button} rounded-lg font-semibold transition-all duration-200 ${\n            hasProgress\n              ? 'bg-sky-600 hover:bg-sky-700 text-white'\n              : 'bg-flame-600 hover:bg-flame-700 text-white'\n          } shadow-md hover:shadow-lg transform hover:scale-[1.02]`}\n        >\n          {hasProgress ? (\n            <>\n              <CheckCircle className={size === 'featured' ? 'h-5 w-5' : 'h-4 w-4'} />\n              Continue Reading\n            </>\n          ) : (\n            <>\n              <ArrowRight className={size === 'featured' ? 'h-5 w-5' : 'h-4 w-4'} />\n              Start Plan\n            </>\n          )}\n        </button>\n      </div>\n    </div>\n  )\n}\n","// Progress Tracker - Manages reading plan progress\n\nimport { dbService, ProgressData } from './indexeddb'\nimport { ReadingPlan } from '../data/readingPlans'\n\nclass ProgressTracker {\n  /**\n   * Start a new reading plan\n   */\n  async startPlan(plan: ReadingPlan): Promise<void> {\n    const progress: ProgressData = {\n      planId: plan.id,\n      currentDay: 1,\n      startedDate: new Date().toISOString(),\n      completedDays: [],\n      lastAccessed: new Date().toISOString(),\n    }\n\n    await dbService.saveProgress(progress)\n    await dbService.setCurrentPlan(plan.id, 1)\n\n    // Also save the plan data to IndexedDB for offline access\n    await dbService.savePlan({\n      planId: plan.id,\n      title: plan.title,\n      description: plan.description,\n      duration: plan.duration,\n      category: plan.category,\n      sdaAligned: plan.sdaAligned,\n      readings: plan.readings.map(r => ({\n        day: r.day,\n        dayTitle: r.dayTitle,\n        devotional: r.devotional,\n        scripture: r.scripture,\n      })),\n    })\n  }\n\n  /**\n   * Get current active plan\n   */\n  async getCurrentPlan(): Promise<{ progress: ProgressData | null }> {\n    const current = await dbService.getCurrentPlan()\n    if (!current) {\n      return { progress: null }\n    }\n\n    const progress = await dbService.getProgress(current.planId)\n    if (!progress) {\n      return { progress: null }\n    }\n\n    return { progress }\n  }\n\n  /**\n   * Mark a day as complete\n   */\n  async completeDay(planId: string, day: number): Promise<void> {\n    await dbService.updateProgressDay(planId, day, true)\n    \n    // Update current plan if this is the active plan\n    const current = await dbService.getCurrentPlan()\n    if (current && current.planId === planId) {\n      await dbService.setCurrentPlan(planId, day + 1)\n    }\n  }\n\n  /**\n   * Mark a day as incomplete\n   */\n  async uncompleteDay(planId: string, day: number): Promise<void> {\n    await dbService.updateProgressDay(planId, day, false)\n  }\n\n  /**\n   * Get progress percentage for a plan\n   */\n  async getProgressPercentage(planId: string): Promise<number> {\n    const progress = await dbService.getProgress(planId)\n    if (!progress) {\n      return 0\n    }\n\n    // Get plan to know total days\n    const plan = await dbService.getPlan(planId)\n    if (!plan) {\n      return 0\n    }\n\n    return Math.round((progress.completedDays.length / plan.duration) * 100)\n  }\n\n  /**\n   * Get today's reading for current plan\n   */\n  async getTodaysReading(): Promise<{\n    planId: string\n    day: number\n    reading: {\n      book: string\n      chapter: number\n      startVerse: number\n      endVerse: number\n      reflection?: string\n    }\n  } | null> {\n    const current = await dbService.getCurrentPlan()\n    if (!current) {\n      return null\n    }\n\n    const plan = await dbService.getPlan(current.planId)\n    if (!plan) {\n      return null\n    }\n\n    const reading = plan.readings.find(r => r.day === current.day)\n    if (!reading) {\n      return null\n    }\n\n    return {\n      planId: current.planId,\n      day: current.day,\n      reading: {\n        book: reading.scripture[0]?.book || '',\n        chapter: reading.scripture[0]?.chapter || 1,\n        startVerse: reading.scripture[0]?.startVerse || reading.scripture[0]?.verse || 1,\n        endVerse: reading.scripture[0]?.endVerse || reading.scripture[0]?.verse || 1,\n        reflection: reading.devotional,\n      },\n    }\n  }\n\n  /**\n   * Advance to next day\n   */\n  async nextDay(planId: string): Promise<void> {\n    const progress = await dbService.getProgress(planId)\n    if (!progress) {\n      throw new Error('Plan not started')\n    }\n\n    const plan = await dbService.getPlan(planId)\n    if (!plan) {\n      throw new Error('Plan data not found')\n    }\n\n    if (progress.currentDay < plan.duration) {\n      progress.currentDay++\n      progress.lastAccessed = new Date().toISOString()\n      await dbService.saveProgress(progress)\n      await dbService.setCurrentPlan(planId, progress.currentDay)\n    }\n  }\n\n  /**\n   * Go to previous day\n   */\n  async previousDay(planId: string): Promise<void> {\n    const progress = await dbService.getProgress(planId)\n    if (!progress) {\n      throw new Error('Plan not started')\n    }\n\n    if (progress.currentDay > 1) {\n      progress.currentDay--\n      progress.lastAccessed = new Date().toISOString()\n      await dbService.saveProgress(progress)\n      await dbService.setCurrentPlan(progress.planId, progress.currentDay)\n    }\n  }\n}\n\nexport const progressTracker = new ProgressTracker()\n","// KJV Offline Service - Downloads and caches KJV Bible text\n\nimport { dbService, KJVTextData } from './indexeddb'\nimport { bibleBooks, getBookById } from '../data/bibleData'\n\nconst KJV_BIBLE_ID = '06125adad2d5898a-01' // KJV Bible ID from scripture.api.bible\nconst API_BASE_URL = 'https://api.scripture.api.bible/v1'\nconst API_KEY = '69c0975e7dee3b884f01a69cc52901db' // TODO: Move to env variable\n\ninterface DownloadProgress {\n  book: string\n  chapter: number\n  totalChapters: number\n  downloaded: number\n  percentage: number\n}\n\ntype ProgressCallback = (progress: DownloadProgress) => void\n\nclass KJVOfflineService {\n  private isDownloading = false\n  private downloadProgress: DownloadProgress | null = null\n\n  /**\n   * Check if KJV is already downloaded\n   */\n  async isDownloaded(): Promise<boolean> {\n    return dbService.isKJVDownloaded()\n  }\n\n  /**\n   * Download full KJV Bible (all books and chapters)\n   */\n  async downloadFullKJV(onProgress?: ProgressCallback): Promise<void> {\n    if (this.isDownloading) {\n      throw new Error('KJV download already in progress')\n    }\n\n    this.isDownloading = true\n    const totalChapters = bibleBooks.reduce((sum, book) => sum + book.chapters, 0)\n    let downloaded = 0\n\n    try {\n      for (const book of bibleBooks) {\n        for (let chapter = 1; chapter <= book.chapters; chapter++) {\n          try {\n            await this.downloadChapter(book.id, chapter)\n            downloaded++\n\n            if (onProgress) {\n              this.downloadProgress = {\n                book: book.name,\n                chapter,\n                totalChapters,\n                downloaded,\n                percentage: Math.round((downloaded / totalChapters) * 100),\n              }\n              onProgress(this.downloadProgress)\n            }\n\n            // Small delay to avoid overwhelming the API\n            await new Promise(resolve => setTimeout(resolve, 100))\n          } catch (error) {\n            console.error(`Failed to download ${book.name} ${chapter}:`, error)\n            // Continue with next chapter\n          }\n        }\n      }\n    } finally {\n      this.isDownloading = false\n    }\n  }\n\n  /**\n   * Download a single chapter\n   */\n  async downloadChapter(bookId: string, chapter: number): Promise<void> {\n    // Check if already cached\n    const cached = await dbService.getKJVChapter(bookId, chapter)\n    if (cached) {\n      return // Already downloaded\n    }\n\n    try {\n      // Format reference for API (e.g., \"GEN.1\" or \"1JN.1\")\n      const book = getBookById(bookId)\n      if (!book) {\n        throw new Error(`Book not found: ${bookId}`)\n      }\n\n      // Use passage endpoint which returns full chapter\n      // API expects format like \"GEN.1\" (using book ID, not abbreviation)\n      const reference = `${book.id}.${chapter}`\n      const url = `${API_BASE_URL}/bibles/${KJV_BIBLE_ID}/passages/${reference}?content-type=text&include-notes=false&include-titles=false&include-chapter-numbers=false&include-verse-numbers=true`\n      \n      const response = await fetch(url, {\n        headers: {\n          'api-key': API_KEY,\n          'Accept': 'application/json',\n        },\n      })\n\n      if (!response.ok) {\n        // Try alternative formats if first fails\n        const alternatives = [\n          `${book.id} ${chapter}`, // \"GEN 1\" (space instead of dot)\n          `${book.name} ${chapter}`, // \"Genesis 1\"\n          `${book.name}.${chapter}`, // \"Genesis.1\"\n        ]\n\n        for (const altReference of alternatives) {\n          try {\n            const altUrl = `${API_BASE_URL}/bibles/${KJV_BIBLE_ID}/passages/${encodeURIComponent(altReference)}?content-type=text&include-notes=false&include-titles=false&include-chapter-numbers=false&include-verse-numbers=true`\n            const altResponse = await fetch(altUrl, {\n              headers: {\n                'api-key': API_KEY,\n                'Accept': 'application/json',\n              },\n            })\n\n            if (altResponse.ok) {\n              const altData = await altResponse.json()\n              const content = altData.data?.content || ''\n              const verses = this.parseVerses(content)\n\n              const kjvData: KJVTextData = {\n                reference: `${bookId}.${chapter}.1-${Object.keys(verses).length}`,\n                book: bookId,\n                chapter,\n                verses,\n                cachedDate: new Date().toISOString(),\n              }\n\n              await dbService.saveKJVText(kjvData)\n              return\n            }\n          } catch (err) {\n            // Try next alternative\n            continue\n          }\n        }\n\n        // All formats failed\n        console.error(`Failed to download ${book.name} ${chapter}: API returned ${response.status}`)\n        throw new Error(`API error: ${response.status} - Could not find chapter using any reference format`)\n      }\n\n      const data = await response.json()\n      const content = data.data?.content || ''\n\n      // Parse verses from content\n      const verses = this.parseVerses(content)\n\n      // Store in IndexedDB\n      const kjvData: KJVTextData = {\n        reference: `${bookId}.${chapter}.1-${Object.keys(verses).length}`,\n        book: bookId,\n        chapter,\n        verses,\n        cachedDate: new Date().toISOString(),\n      }\n\n      await dbService.saveKJVText(kjvData)\n    } catch (error) {\n      console.error(`Error downloading ${bookId} ${chapter}:`, error)\n      throw error\n    }\n  }\n\n  /**\n   * Parse verse text from API content\n   * Content format: \"1 In the beginning... 2 And the earth...\"\n   */\n  private parseVerses(content: string): Record<number, string> {\n    const verses: Record<number, string> = {}\n    \n    // Remove HTML tags if present\n    const cleanContent = content.replace(/<[^>]*>/g, '')\n    \n    // Match verse numbers (1, 2, 3, etc.) followed by text\n    const verseRegex = /(\\d+)\\s+([^\\d]+?)(?=\\d+\\s+|$)/g\n    let match\n\n    while ((match = verseRegex.exec(cleanContent)) !== null) {\n      const verseNum = parseInt(match[1], 10)\n      const verseText = match[2].trim()\n      if (verseNum && verseText) {\n        verses[verseNum] = verseText\n      }\n    }\n\n    // Fallback: if no verses found, store entire content as verse 1\n    if (Object.keys(verses).length === 0 && cleanContent.trim()) {\n      verses[1] = cleanContent.trim()\n    }\n\n    return verses\n  }\n\n  /**\n   * Get KJV text for a specific passage (offline-first)\n   */\n  async getText(bookId: string, chapter: number, startVerse?: number, endVerse?: number): Promise<string | null> {\n    // Try IndexedDB first\n    const cached = await dbService.getKJVChapter(bookId, chapter)\n    \n    if (cached) {\n      if (startVerse && endVerse) {\n        // Return specific verses\n        const verses: string[] = []\n        for (let v = startVerse; v <= endVerse; v++) {\n          if (cached.verses[v]) {\n            verses.push(`${v} ${cached.verses[v]}`)\n          }\n        }\n        return verses.length > 0 ? verses.join(' ') : null\n      } else {\n        // Return entire chapter\n        return Object.entries(cached.verses)\n          .map(([num, text]) => `${num} ${text}`)\n          .join(' ')\n      }\n    }\n\n    // Not cached - try API if online\n    if (navigator.onLine) {\n      try {\n        await this.downloadChapter(bookId, chapter)\n        // Retry after download\n        return this.getText(bookId, chapter, startVerse, endVerse)\n      } catch (error) {\n        console.error('Failed to fetch from API:', error)\n        return null\n      }\n    }\n\n    return null\n  }\n\n  /**\n   * Get download progress\n   */\n  getDownloadProgress(): DownloadProgress | null {\n    return this.downloadProgress\n  }\n\n  /**\n   * Check if download is in progress\n   */\n  isDownloadInProgress(): boolean {\n    return this.isDownloading\n  }\n}\n\nexport const kjvService = new KJVOfflineService()\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Bookmark\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTkgMjEtNy00LTcgNFY1YTIgMiAwIDAgMSAyLTJoMTBhMiAyIDAgMCAxIDIgMnYxNnoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/bookmark\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bookmark = createLucideIcon('Bookmark', [\n  ['path', { d: 'm19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z', key: '1fy3hk' }],\n]);\n\nexport default Bookmark;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOSAxOCA2LTYtNi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/chevron-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronRight = createLucideIcon('ChevronRight', [\n  ['path', { d: 'm9 18 6-6-6-6', key: 'mthhwq' }],\n]);\n\nexport default ChevronRight;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('ChevronLeft', [\n  ['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }],\n]);\n\nexport default ChevronLeft;\n","export interface BibleVersion {\n  id: string;\n  name: string;\n  abbreviation: string;\n  description: string;\n  language: string;\n  available: boolean;\n}\n\nexport interface BibleBook {\n  id: string;\n  name: string;\n  abbreviation: string;\n  testament: 'Old' | 'New';\n  chapters: number;\n}\n\nexport const bibleVersions: BibleVersion[] = [\n  {\n    id: 'de4e12af7f28f599-02', // KJV\n    name: 'King James Version',\n    abbreviation: 'KJV',\n    description: 'The classic English translation from 1611',\n    language: 'English',\n    available: true\n  },\n  {\n    id: '9879dbb7cfe39e4d-01',\n    name: 'New International Version',\n    abbreviation: 'NIV',\n    description: 'A balance between word-for-word and thought-for-thought translation',\n    language: 'English',\n    available: true\n  },\n  {\n    id: '7142879509583d59-01',\n    name: 'New Living Translation',\n    abbreviation: 'NLT',\n    description: 'A thought-for-thought translation in contemporary English',\n    language: 'English',\n    available: true\n  },\n  {\n    id: '65eec8e0b60e656b-01',\n    name: 'New American Standard Bible',\n    abbreviation: 'NASB',\n    description: 'A literal translation emphasizing accuracy to the original texts',\n    language: 'English',\n    available: true\n  }\n];\n\nexport const bibleBooks: BibleBook[] = [\n  // Old Testament\n  { id: 'GEN', name: 'Genesis', abbreviation: 'Gen', testament: 'Old', chapters: 50 },\n  { id: 'EXO', name: 'Exodus', abbreviation: 'Exo', testament: 'Old', chapters: 40 },\n  { id: 'LEV', name: 'Leviticus', abbreviation: 'Lev', testament: 'Old', chapters: 27 },\n  { id: 'NUM', name: 'Numbers', abbreviation: 'Num', testament: 'Old', chapters: 36 },\n  { id: 'DEU', name: 'Deuteronomy', abbreviation: 'Deu', testament: 'Old', chapters: 34 },\n  { id: 'JOS', name: 'Joshua', abbreviation: 'Jos', testament: 'Old', chapters: 24 },\n  { id: 'JDG', name: 'Judges', abbreviation: 'Jdg', testament: 'Old', chapters: 21 },\n  { id: 'RUT', name: 'Ruth', abbreviation: 'Rut', testament: 'Old', chapters: 4 },\n  { id: '1SA', name: '1 Samuel', abbreviation: '1Sa', testament: 'Old', chapters: 31 },\n  { id: '2SA', name: '2 Samuel', abbreviation: '2Sa', testament: 'Old', chapters: 24 },\n  { id: '1KI', name: '1 Kings', abbreviation: '1Ki', testament: 'Old', chapters: 22 },\n  { id: '2KI', name: '2 Kings', abbreviation: '2Ki', testament: 'Old', chapters: 25 },\n  { id: '1CH', name: '1 Chronicles', abbreviation: '1Ch', testament: 'Old', chapters: 29 },\n  { id: '2CH', name: '2 Chronicles', abbreviation: '2Ch', testament: 'Old', chapters: 36 },\n  { id: 'EZR', name: 'Ezra', abbreviation: 'Ezr', testament: 'Old', chapters: 10 },\n  { id: 'NEH', name: 'Nehemiah', abbreviation: 'Neh', testament: 'Old', chapters: 13 },\n  { id: 'EST', name: 'Esther', abbreviation: 'Est', testament: 'Old', chapters: 10 },\n  { id: 'JOB', name: 'Job', abbreviation: 'Job', testament: 'Old', chapters: 42 },\n  { id: 'PSA', name: 'Psalms', abbreviation: 'Psa', testament: 'Old', chapters: 150 },\n  { id: 'PRO', name: 'Proverbs', abbreviation: 'Pro', testament: 'Old', chapters: 31 },\n  { id: 'ECC', name: 'Ecclesiastes', abbreviation: 'Ecc', testament: 'Old', chapters: 12 },\n  { id: 'SNG', name: 'Song of Solomon', abbreviation: 'SoS', testament: 'Old', chapters: 8 },\n  { id: 'ISA', name: 'Isaiah', abbreviation: 'Isa', testament: 'Old', chapters: 66 },\n  { id: 'JER', name: 'Jeremiah', abbreviation: 'Jer', testament: 'Old', chapters: 52 },\n  { id: 'LAM', name: 'Lamentations', abbreviation: 'Lam', testament: 'Old', chapters: 5 },\n  { id: 'EZK', name: 'Ezekiel', abbreviation: 'Ezk', testament: 'Old', chapters: 48 },\n  { id: 'DAN', name: 'Daniel', abbreviation: 'Dan', testament: 'Old', chapters: 12 },\n  { id: 'HOS', name: 'Hosea', abbreviation: 'Hos', testament: 'Old', chapters: 14 },\n  { id: 'JOL', name: 'Joel', abbreviation: 'Joe', testament: 'Old', chapters: 3 },\n  { id: 'AMO', name: 'Amos', abbreviation: 'Amo', testament: 'Old', chapters: 9 },\n  { id: 'OBA', name: 'Obadiah', abbreviation: 'Oba', testament: 'Old', chapters: 1 },\n  { id: 'JON', name: 'Jonah', abbreviation: 'Jon', testament: 'Old', chapters: 4 },\n  { id: 'MIC', name: 'Micah', abbreviation: 'Mic', testament: 'Old', chapters: 7 },\n  { id: 'NAM', name: 'Nahum', abbreviation: 'Nah', testament: 'Old', chapters: 3 },\n  { id: 'HAB', name: 'Habakkuk', abbreviation: 'Hab', testament: 'Old', chapters: 3 },\n  { id: 'ZEP', name: 'Zephaniah', abbreviation: 'Zep', testament: 'Old', chapters: 3 },\n  { id: 'HAG', name: 'Haggai', abbreviation: 'Hag', testament: 'Old', chapters: 2 },\n  { id: 'ZEC', name: 'Zechariah', abbreviation: 'Zec', testament: 'Old', chapters: 14 },\n  { id: 'MAL', name: 'Malachi', abbreviation: 'Mal', testament: 'Old', chapters: 4 },\n  \n  // New Testament\n  { id: 'MAT', name: 'Matthew', abbreviation: 'Mat', testament: 'New', chapters: 28 },\n  { id: 'MRK', name: 'Mark', abbreviation: 'Mar', testament: 'New', chapters: 16 },\n  { id: 'LUK', name: 'Luke', abbreviation: 'Luk', testament: 'New', chapters: 24 },\n  { id: 'JHN', name: 'John', abbreviation: 'Joh', testament: 'New', chapters: 21 },\n  { id: 'ACT', name: 'Acts', abbreviation: 'Act', testament: 'New', chapters: 28 },\n  { id: 'ROM', name: 'Romans', abbreviation: 'Rom', testament: 'New', chapters: 16 },\n  { id: '1CO', name: '1 Corinthians', abbreviation: '1Co', testament: 'New', chapters: 16 },\n  { id: '2CO', name: '2 Corinthians', abbreviation: '2Co', testament: 'New', chapters: 13 },\n  { id: 'GAL', name: 'Galatians', abbreviation: 'Gal', testament: 'New', chapters: 6 },\n  { id: 'EPH', name: 'Ephesians', abbreviation: 'Eph', testament: 'New', chapters: 6 },\n  { id: 'PHP', name: 'Philippians', abbreviation: 'Phi', testament: 'New', chapters: 4 },\n  { id: 'COL', name: 'Colossians', abbreviation: 'Col', testament: 'New', chapters: 4 },\n  { id: '1TH', name: '1 Thessalonians', abbreviation: '1Th', testament: 'New', chapters: 5 },\n  { id: '2TH', name: '2 Thessalonians', abbreviation: '2Th', testament: 'New', chapters: 3 },\n  { id: '1TI', name: '1 Timothy', abbreviation: '1Ti', testament: 'New', chapters: 6 },\n  { id: '2TI', name: '2 Timothy', abbreviation: '2Ti', testament: 'New', chapters: 4 },\n  { id: 'TIT', name: 'Titus', abbreviation: 'Tit', testament: 'New', chapters: 3 },\n  { id: 'PHM', name: 'Philemon', abbreviation: 'Phm', testament: 'New', chapters: 1 },\n  { id: 'HEB', name: 'Hebrews', abbreviation: 'Heb', testament: 'New', chapters: 13 },\n  { id: 'JAS', name: 'James', abbreviation: 'Jam', testament: 'New', chapters: 5 },\n  { id: '1PE', name: '1 Peter', abbreviation: '1Pe', testament: 'New', chapters: 5 },\n  { id: '2PE', name: '2 Peter', abbreviation: '2Pe', testament: 'New', chapters: 3 },\n  { id: '1JN', name: '1 John', abbreviation: '1Jn', testament: 'New', chapters: 5 },\n  { id: '2JN', name: '2 John', abbreviation: '2Jn', testament: 'New', chapters: 1 },\n  { id: '3JN', name: '3 John', abbreviation: '3Jn', testament: 'New', chapters: 1 },\n  { id: 'JUD', name: 'Jude', abbreviation: 'Jud', testament: 'New', chapters: 1 },\n  { id: 'REV', name: 'Revelation', abbreviation: 'Rev', testament: 'New', chapters: 22 }\n];\n\nexport const getBookById = (id: string): BibleBook | undefined => {\n  return bibleBooks.find(book => book.id === id);\n};\n\nexport const getVersionById = (id: string): BibleVersion | undefined => {\n  return bibleVersions.find(version => version.id === id);\n};\n\nexport const getOldTestamentBooks = (): BibleBook[] => {\n  return bibleBooks.filter(book => book.testament === 'Old');\n};\n\nexport const getNewTestamentBooks = (): BibleBook[] => {\n  return bibleBooks.filter(book => book.testament === 'New');\n};"],"names":[],"mappings":"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","ignoreList":[6,7,8]}